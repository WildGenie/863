台账、运行数据的数据库联动操作已写完，但未测试
下一步，写拓扑数据的操作



疑问:在对象视锥体检查中，开始基本正常，拉近后，明显不该显示的也显示了，显示范围比预期扩大，问题还没找到, 但瓦片的表现正常
抽时间解决这个问题，方法可考虑将视锥体绘制出来



天大新数据:
1. 中压变电站表与描述不一致
2. 网格数据不全，没找到用地类型字典表
3. 高压中压同一设施设备地理坐标不一，同一物理设施设备不唯一
4. 有的线路方向和潮流似乎不匹配


节点电压不宜用等值图表现，新做一个点值图类，以表现节点电压

高中压设备不一致，暂时高中压分离，以后考虑如何实现高中压同显的问题

* 处理下线路，线路有问题，估计是点不对

潮流重写多箭头, 对箭头的显示控制，目前只控制到线，未能控制子项
潮流方向控制
构建单独的深度测试技术验证
d3d中改参数结构直接使用，不再搭建单独的参数




深度测试技术验证

通用帮助机制
通用配置机制
通用状态栏
快照小地图
南方电网和国网两套图标
平面坐标，自定义瓦片的再支持
数据库gis坐标的实现（mssql, oracle）
地形实现
3D模型库
工具集（数据库描述定义工具，配置工具）

细节效果：
可变粗细线条
updatemodel的后台实现
光照系统调整
DDS纹理内部实现

性能相关：
视锥体检查，做可否多线程实现，或移到d3d中进行。

发布相关：目前必须要D3D9分发包，做win7 9 10下，可否舍弃的技术验证。

系统大修: 命名规范，管理器规范，类位置合理重置

编辑功能，补充规划数据（数据结构仍采用运行数据之数据结构）

业务相关：
内置算法库(拓扑运算，n-1校验, 潮流, 可靠性计算, 负荷转移......)
清理台账数据，运行数据
重新考虑拓扑数据结构

bug相关：斜视拉近后，瓦片计算有差错

系统检查：1. 溢出检查, 2. 冗余运算检查


数据提供器类，主动式被动式，注册机制(因表结构不同，意义不大，暂放弃)
广州瓦片的处理：验证其起始经纬度与瓦片分割不同，拟采用瓦片mesh偏移固定经纬来处理，增加瓦片读取模式tilemode，tileoffset属性
增加相机定位到经纬度方法



内置tooltips机制, 常规自动实现tooltips, 定制化的tooltips, tooltips配置，move延时属性，click,move两种形态


下一步工作：pick要重写为递归, 纹理的管理
大修，考虑d3d内部model合并在一个集合中, 不再分类，并增加绘制索引，绘制序按两个因素产生，一是离地高度，二是纬度


深度问题：暂没能解决，若无法解决，用手动控制顺序暂代, 深度使用要求backbuffer=实际尺寸
设置一个开关，是否启用深度，在确保尺寸大小不变的情形下，可以启用深度，否则不启用深度
暂用人工排序解决，以后看时间再处理深度重建d3ddevice


准备大改瓦片经纬判断方式





待完成：
2. 增加内置显示对象名称
3. 图形对象属性更新 (已完成部份，机制已建立，根据需要增加)
5. 几何体动画 （内置色动画，高度和色动画可开关）   ,数据的标签影响性能较大
6. 文字面板  (再试一个直接2D位置距离大小绘制的版本) 再试mipmap
7. 处理内存漏的问题 (进行了已知的处理，以后专门测试) 
8. 开始等待画面
9. buffer  (完成，但不易测试，考虑用所花时间来测试，1计算碰撞检测的时间，刷新屏幕的时间)
12. 封装和安装测试

*线路绘制动画，线路擦除动画（需建立传递动画参数结构，动画类型，循环，周期）  
*平面模式底板
*箭头随机位置选项



* 预载机制
* 内置控制（视角控制，地图类型控制，光照控制等，经纬显示）
* 效果
* 实体模型
* 其它需求
* 地形


2D交点3D一直不对，检查



问题：
2. 效果问题：光照方向的计算，还有问题
更改地图类型时，出错
光源不正常，过亮，原因不明，只能暂时把光降到很低




多线程同时载入

动态加载的updatemodel，应考虑后台加载，以改善mousewheel体验

平面坐标在大改后失效，要重新清理实现


